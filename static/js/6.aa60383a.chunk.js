(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[6],{114:function(t,e,a){"use strict";a.r(e);var c=a(4),o=a.n(c),n=a(8),s=a(6),r=a(5),l=a.n(r),u=a(1),i=a(3),b=a(15),p=a(9),j=a(10),m=a(0);e.default=function(){var t=Object(u.useState)(),e=Object(s.a)(t,2),a=e[0],c=e[1],r=Object(u.useState)(),d=Object(s.a)(r,2),f=d[0],h=d[1],x=Object(u.useState)(!1),O=Object(s.a)(x,2),v=O[0],y=O[1],g=Object(i.f)(),w=Object(u.useContext)(b.a),N=Object(u.useContext)(p.a);function C(){return(C=Object(n.a)(o.a.mark((function t(e){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,l.a.post("/create-post",{title:a,body:f,token:N.user.token});case 4:c=t.sent,y(c.data),console.log("New post was created."),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("There was a problem.");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){return v&&(w({type:"flashMessage",value:"Congrats, you created a new post."}),g("/post/".concat(v))),function(){console.log("cleanup")}}),[v]),Object(m.jsx)(j.a,{title:"Create New Post",children:Object(m.jsxs)("form",{onSubmit:function(t){return C.apply(this,arguments)},children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"post-title",className:"text-muted mb-1",children:Object(m.jsx)("small",{children:"Title"})}),Object(m.jsx)("input",{onChange:function(t){return c(t.target.value)},autoFocus:!0,name:"title",id:"post-title",className:"form-control form-control-lg form-control-title",type:"text",placeholder:"",autoComplete:"off"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"post-body",className:"text-muted mb-1 d-block",children:Object(m.jsx)("small",{children:"Body Content"})}),Object(m.jsx)("textarea",{onChange:function(t){return h(t.target.value)},name:"body",id:"post-body",className:"body-content tall-textarea form-control",type:"text"})]}),Object(m.jsx)("button",{className:"btn btn-primary",children:"Save New Post"})]})})}}}]);
//# sourceMappingURL=6.aa60383a.chunk.js.map