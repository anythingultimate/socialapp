{"version":3,"sources":["components/ui/container/Container.jsx","components/ui/container/Page.jsx","components/ui/LoadingDotsIcon.jsx","DispatchContext.js","components/ui/AllSvg.js","components/Post.jsx","components/NotFound.jsx","components/About.jsx","components/Footer.jsx","components/ui/header/HeaderLoggedIn.jsx","components/ui/header/HeaderLoggedOut.jsx","components/Header.jsx","components/HomeGuest.jsx","components/Home.jsx","components/ui/FlashMessages.jsx","components/ProfilePosts.jsx","components/ProfileFollowers.jsx","components/ProfileFollowing.jsx","components/Profile.jsx","components/EditPost.jsx","components/Terms.jsx","App.js","reportWebVitals.js","index.js","StateContext.js"],"names":["Container","wide","children","className","Page","title","useEffect","document","window","scrollTo","LoadingDotsIcon","DispatchContext","createContext","SearchIcon","props","xmlns","width","height","viewBox","fill","d","ChatIcon","DeleteIcon","EditIcon","AddIcon","RemoveIcon","CancelIcon","opacity","Post","post","onClick","noAuthor","date","Date","createdDate","dateFormatted","getMonth","getDate","getFullYear","to","_id","alt","src","author","avatar","username","NotFound","About","Footer","HeaderLoggedIn","appDispatch","useContext","appState","StateContext","href","e","preventDefault","type","data-for","data-tip","place","id","unreadChatCount","user","value","HeaderLoggedOut","useState","setUsername","password","setPassword","a","axios","response","data","console","log","onSubmit","onChange","target","name","placeholder","autoComplete","Header","loggedIn","HomeGuest","useImmerReducer","draft","action","hasErrors","length","message","test","noRequest","checkCount","isUnique","email","submitCount","state","dispatch","delay","setTimeout","clearTimeout","ourRequest","CancelToken","source","cancelToken","token","fetchResults","cancel","htmlFor","CSSTransition","in","timeout","classNames","unmountOnExit","Home","useImmer","isLoading","feed","setState","fetchData","map","FlashMessages","messages","msg","index","role","ProfilePosts","useParams","setIsLoading","posts","setPosts","get","fetchPosts","ProfileFollowers","follower","ProfileFollowing","Profile","followActionLoading","startFollowingRequestCount","stopFollowingRequestCount","profileData","profileUsername","profileAvatar","isFollowing","counts","postCount","followerCount","followingCount","disabled","undefined","path","element","EditPost","navigate","useNavigate","originalState","body","isFetching","isSaving","sendCount","notFound","trim","fetchPost","onBlur","autoFocus","Terms","CreatePost","React","lazy","ViewSinglePost","Search","Chat","defaults","baseURL","App","initialState","Boolean","localStorage","getItem","flashMessages","isSearchOpen","isChatOpen","push","setItem","removeItem","routeRefs","useRef","Provider","fallback","nodeRef","ref","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d7a5f8a7.chunk.js","sourcesContent":["const Container = ({wide, children}) => {\n    return (\n        <div className={\"container py-md-5 \" + (wide? \"\" : \"container--narrow\")}>\n            {children}\n        </div>\n    )\n}\n\nexport default Container\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from \"react\"\nimport Container from \"./Container\"\n\nconst Page = ({title, wide, children}) => {\n    useEffect(() => {\n        document.title = `${title} | React Practice`\n        window.scrollTo(0,0)\n    }, [])\n    return (\n        <Container wide={wide}>\n            {children}\n        </Container>\n    )\n}\n\nexport default Page\n","const LoadingDotsIcon = () => {\n  return (\n    <div className=\"dots-loading\">\n      <div></div>\n    </div>\n  );\n};\n\nexport default LoadingDotsIcon;\n","import { createContext } from \"react\";\n\nconst DispatchContext = createContext();\n\nexport default DispatchContext;\n","export const SearchIcon = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"></path>\n      <path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n    </svg>\n  );\n};\n\nexport const ChatIcon = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"></path>\n      <path d=\"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z\"></path>\n    </svg>\n  );\n};\n\nexport const DeleteIcon = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0V0z\"></path>\n      <path d=\"M14.12 10.47L12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z\"></path>\n    </svg>\n  );\n};\n\nexport const EditIcon = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0H24V24H0z\"></path>\n      <path d=\"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13l.71-.71a.996.996 0 011.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71-2.12-2.12zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3-2.12-2.12z\"></path>\n    </svg>\n  );\n};\n\nexport const AddIcon = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <g fill=\"none\">\n        <path d=\"M0 0H24V24H0z\"></path>\n        <path d=\"M0 0H24V24H0z\"></path>\n      </g>\n      <path d=\"M22 9L22 7 20 7 20 9 18 9 18 11 20 11 20 13 22 13 22 11 24 11 24 9z\"></path>\n      <path d=\"M8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM8 13c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm6 5H2v-.99C2.2 16.29 5.3 15 8 15s5.8 1.29 6 2v1zM12.51 4.05C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95zM16.53 13.83C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17z\"></path>\n    </svg>\n  );\n};\n\nexport const RemoveIcon = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0H24V24H0z\"></path>\n      <path d=\"M24 9v2h-6V9h6zM8 4C5.79 4 4 5.79 4 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm0 3c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm6 5H2v-.99C2.2 16.29 5.3 15 8 15s5.8 1.29 6 2v1zM12.51 4.05C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95zm4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17z\"></path>\n    </svg>\n  );\n};\n\nexport const CancelIcon = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0V0z\" opacity=\"0.87\"></path>\n      <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z\"></path>\n    </svg>\n  );\n};\n","import { Link } from \"react-router-dom\";\n\nconst Post = ({ post, onClick, noAuthor }) => {\n  const date = new Date(post.createdDate);\n  const dateFormatted = `${\n    date.getMonth() + 1\n  }/${date.getDate()}/${date.getFullYear()}`;\n\n  return (\n    <Link\n      onClick={onClick}\n      to={`/post/${post._id}`}\n      className=\"list-group-item list-group-item-action\"\n    >\n      <img alt=\"avatar\" className=\"avatar-tiny\" src={post.author.avatar} />{\" \"}\n      <strong>{post.title}</strong>{\" \"}\n      <span className=\"text-muted small\">\n        {!noAuthor && <>by {post.author.username}</>} on {dateFormatted}{\" \"}\n      </span>\n    </Link>\n  );\n};\n\nexport default Post;\n","import { Link } from \"react-router-dom\";\nimport Page from \"./ui/container/Page\";\n\nconst NotFound = () => {\n  return (\n    <Page title=\"Not Found\">\n      <div className=\"text-center\">\n        <h2>Whoops, we cannot find that page.</h2>\n        <p className=\"lead text-muted\">\n          You can always visit the <Link to=\"/\">homepage</Link> to get a fresh\n          start.\n        </p>\n      </div>\n    </Page>\n  );\n};\n\nexport default NotFound;\n","import Page from \"./ui/container/Page\"\n\nconst About = () => {\n    return (\n        <Page title=\"About\" wide={false} >\n        <div>\n            About\n        </div>\n        </Page>\n    )\n}\n\nexport default About\n","import { Link } from \"react-router-dom\";\n\nconst Footer = () => {\n  return (\n    <>\n      <footer className=\"border-top text-center small text-muted py-3\">\n        <p>\n          <Link to=\"/\" className=\"mx-1\">\n            Home\n          </Link>{\" \"}\n          |{\" \"}\n          <Link className=\"mx-1\" to=\"/about-us\">\n            About Us\n          </Link>{\" \"}\n          |{\" \"}\n          <Link className=\"mx-1\" to=\"/terms\">\n            Terms\n          </Link>\n        </p>\n        <p className=\"m-0\">\n          Copyright &copy; 2021{\" \"}\n          <Link to=\"/\" className=\"text-muted\">\n            SocialApp\n          </Link>\n          . All rights reserved.\n        </p>\n      </footer>\n    </>\n  );\n};\n\nexport default Footer;\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ReactTooltip from \"react-tooltip\";\nimport DispatchContext from \"../../../DispatchContext\";\nimport StateContext from \"../../../StateContext\";\nimport { ChatIcon, SearchIcon } from \"../AllSvg\";\n\nconst HeaderLoggedIn = () => {\n  const appDispatch = useContext(DispatchContext);\n  const appState = useContext(StateContext);\n\n  const handleLogout = () => {\n    appDispatch({ type: \"logout\" });\n    appDispatch({\n      type: \"flashMessage\",\n      value: \"You have successfully logged out.\",\n    });\n  };\n\n  function handleSearchIcon(e) {\n    e.preventDefault();\n    appDispatch({ type: \"openSearch\" });\n  }\n\n  return (\n    <div className=\"flex-row my-3 my-md-0\">\n      <a\n        href=\" #\"\n        className=\"text-white me-2 header-search-icon bg-transparent\"\n        onClick={handleSearchIcon}\n        data-for=\"search\"\n        data-tip=\"Search\"\n      >\n        <SearchIcon width={30} height={30} fill=\"currentColor\" />\n      </a>\n      <ReactTooltip place=\"bottom\" id=\"search\" className=\"custom-tooltip\" />{\" \"}\n      <span\n        onClick={() => appDispatch({ type: \"toggleChat\" })}\n        data-for=\"chat\"\n        data-tip=\"Chat\"\n        className={\n          \"mr-2 header-chat-icon \" +\n          (appState.unreadChatCount ? \"text-danger\" : \"text-white\")\n        }\n      >\n        <ChatIcon />\n        {appState.unreadChatCount ? (\n          <span className=\"chat-count-badge text-white\">\n            {appState.unreadChatCount < 10 ? appState.unreadChatCount : \"9+\"}\n          </span>\n        ) : (\n          \"\"\n        )}\n      </span>\n      <ReactTooltip place=\"bottom\" id=\"chat\" className=\"custom-tooltip\" />{\" \"}\n      <Link\n        data-for=\"profile\"\n        data-tip=\"My Profile\"\n        to={`/profile/${appState.user.username}`}\n        className=\"me-2\"\n      >\n        <img\n          alt=\"avatar\"\n          className=\"small-header-avatar\"\n          src={appState.user.avatar}\n        />\n      </Link>\n      <ReactTooltip place=\"bottom\" id=\"profile\" className=\"custom-tooltip\" />{\" \"}\n      <Link className=\"btn btn-sm btn-success me-2\" to=\"/create-post\">\n        Create Post\n      </Link>\n      <button onClick={handleLogout} className=\"btn btn-sm btn-secondary\">\n        Sign Out\n      </button>\n    </div>\n  );\n};\n\nexport default HeaderLoggedIn;\n","import { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport DispatchContext from \"../../../DispatchContext\";\n\nconst HeaderLoggedOut = () => {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const appDispatch = useContext(DispatchContext);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"/login\", {\n        username,\n        password,\n      });\n      if (response.data) {\n        appDispatch({ type: \"login\", data: response.data });\n        appDispatch({\n          type: \"flashMessage\",\n          value: \"You have successfully logged in.\",\n        });\n      } else {\n        console.log(\"Incorrect username / password.\");\n        appDispatch({\n          type: \"flashMessage\",\n          value: \"Invalid username / password.\",\n        });\n      }\n    } catch (e) {\n      console.log(\"There was a problem.\");\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"mb-0 pt-2 pt-md-0\">\n      <div className=\"row align-items-center\">\n        <div className=\"col-md me-0 pe-md-0 mb-3 mb-md-0\">\n          <input\n            onChange={(e) => setUsername(e.target.value)}\n            name=\"username\"\n            className=\"form-control form-control-sm input-dark\"\n            type=\"text\"\n            placeholder=\"Username\"\n            autoComplete=\"off\"\n          />\n        </div>\n        <div className=\"col-md me-0 pe-md-0 mb-3 mb-md-0\">\n          <input\n            onChange={(e) => setPassword(e.target.value)}\n            name=\"password\"\n            className=\"form-control form-control-sm input-dark\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n        </div>\n        <div className=\"col-md-auto\">\n          <button className=\"btn btn-success btn-sm\">Sign In</button>\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport default HeaderLoggedOut;\n","import { useContext } from \"react\";\nimport StateContext from \"../StateContext\";\nimport HeaderLoggedIn from \"./ui/header/HeaderLoggedIn\";\nimport HeaderLoggedOut from \"./ui/header/HeaderLoggedOut\";\n\nconst Header = ({ loggedIn }) => {\n  const appState = useContext(StateContext);\n  return (\n    <>\n      <header className=\"header-bar bg-primary mb-3\">\n        <div className=\"container d-flex flex-column flex-md-row align-items-center p-3\">\n          <h4 className=\"my-0 me-md-auto font-weight-normal\">\n            <a href=\"/\" className=\"text-white\">\n              SocialApp\n            </a>\n          </h4>\n          {appState.loggedIn ? <HeaderLoggedIn /> : <HeaderLoggedOut />}\n        </div>\n      </header>\n    </>\n  );\n};\n\nexport default Header;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport Page from \"./ui/container/Page\";\nimport axios from \"axios\";\nimport { useContext, useEffect } from \"react\";\nimport DispatchContext from \"../DispatchContext\";\nimport { useImmerReducer } from \"use-immer\";\nimport { CSSTransition } from \"react-transition-group\";\n\nconst HomeGuest = () => {\n  const appDispatch = useContext(DispatchContext);\n\n  const initialState = {\n    username: {\n      value: \"\",\n      hasErrors: false,\n      message: \"\",\n      isUnique: false,\n      checkCount: 0,\n    },\n    email: {\n      value: \"\",\n      hasErrors: false,\n      message: \"\",\n      isUnique: false,\n      checkCount: 0,\n    },\n    password: {\n      value: \"\",\n      hasErrors: false,\n      message: \"\",\n    },\n    submitCount: 0,\n  };\n\n  function ourReducer(draft, action) {\n    switch (action.type) {\n      case \"usernameImmediately\":\n        draft.username.hasErrors = false;\n        draft.username.value = action.value;\n        if (draft.username.value.length > 30) {\n          draft.username.hasErrors = true;\n          draft.username.message = \"Username cannot exceed 30 characters.\";\n        }\n        if (\n          draft.username.value &&\n          !/^([a-zA-Z0-9]+)$/.test(draft.username.value)\n        ) {\n          draft.username.hasErrors = true;\n          draft.username.message =\n            \"Username can only contain letters and numbers.\";\n        }\n        return;\n      case \"usernameAfterDelay\":\n        if (draft.username.value.length < 3) {\n          draft.username.hasErrors = true;\n          draft.username.message = \"Username must be at least 3 characters.\";\n        }\n        if (!draft.hasErrors && !action.noRequest) {\n          draft.username.checkCount++;\n        }\n        return;\n      case \"usernameUniqueResults\":\n        if (action.value) {\n          draft.username.hasErrors = true;\n          draft.username.isUnique = false;\n          draft.username.message = \"That username is already taken.\";\n        } else {\n          draft.username.isUnique = true;\n        }\n        return;\n      case \"emailImmediately\":\n        draft.email.hasErrors = false;\n        draft.email.value = action.value;\n        return;\n      case \"emailAfterDelay\":\n        if (!/^\\S+@\\S+$/.test(draft.email.value)) {\n          draft.email.hasErrors = true;\n          draft.email.message = \"You must provide a valid email address.\";\n        }\n        if (!draft.email.hasErrors && !action.noRequest) {\n          draft.email.checkCount++;\n        }\n        return;\n      case \"emailUniqueResults\":\n        if (action.value) {\n          draft.email.hasErrors = true;\n          draft.email.isUnique = false;\n          draft.email.message = \"That email is already being used.\";\n        } else {\n          draft.email.isUnique = true;\n        }\n        return;\n      case \"passwordImmediately\":\n        draft.password.hasErrors = false;\n        draft.password.value = action.value;\n        if (draft.password.value.length > 50) {\n          draft.password.hasErrors = true;\n          draft.password.message = \"Password cannot exceed 50 characters.\";\n        }\n        return;\n      case \"passwordAfterDelay\":\n        if (draft.password.value.length < 6) {\n          draft.password.hasErrors = true;\n          draft.password.message = \"Password must be at least 6 characters.\";\n        }\n        return;\n      case \"submitForm\":\n        if (\n          !draft.username.hasErrors &&\n          draft.username.isUnique &&\n          !draft.email.hasErrors &&\n          draft.email.isUnique &&\n          !draft.password.hasErrors\n        ) {\n          draft.submitCount++;\n        }\n        return;\n\n      default:\n        return;\n    }\n  }\n\n  const [state, dispatch] = useImmerReducer(ourReducer, initialState);\n\n  useEffect(() => {\n    if (state.username.value) {\n      const delay = setTimeout(\n        () => dispatch({ type: \"usernameAfterDelay\" }),\n        800\n      );\n      return () => clearTimeout(delay);\n    }\n  }, [state.username.value]);\n\n  useEffect(() => {\n    if (state.email.value) {\n      const delay = setTimeout(\n        () => dispatch({ type: \"emailAfterDelay\" }),\n        800\n      );\n      return () => clearTimeout(delay);\n    }\n  }, [state.email.value]);\n\n  useEffect(() => {\n    if (state.password.value) {\n      const delay = setTimeout(\n        () => dispatch({ type: \"passwordAfterDelay\" }),\n        800\n      );\n      return () => clearTimeout(delay);\n    }\n  }, [state.password.value]);\n\n  useEffect(() => {\n    if (state.username.checkCount) {\n      const ourRequest = axios.CancelToken.source();\n      async function fetchResults() {\n        try {\n          const response = await axios.post(\n            \"/doesUsernameExist\",\n            { username: state.username.value },\n            { cancelToken: ourRequest.token }\n          );\n          dispatch({ type: \"usernameUniqueResults\", value: response.data });\n        } catch (e) {\n          console.log(\"There was a problem or the request was cancelled.\");\n        }\n      }\n      fetchResults();\n      return () => ourRequest.cancel();\n    }\n  }, [state.username.checkCount]);\n\n  useEffect(() => {\n    if (state.email.checkCount) {\n      const ourRequest = axios.CancelToken.source();\n      async function fetchResults() {\n        try {\n          const response = await axios.post(\n            \"/doesEmailExist\",\n            { email: state.email.value },\n            { cancelToken: ourRequest.token }\n          );\n          dispatch({ type: \"emailUniqueResults\", value: response.data });\n        } catch (e) {\n          console.log(\"There was a problem or the request was cancelled.\");\n        }\n      }\n      fetchResults();\n      return () => ourRequest.cancel();\n    }\n  }, [state.email.checkCount]);\n\n  useEffect(() => {\n    if (state.submitCount) {\n      const ourRequest = axios.CancelToken.source();\n      async function fetchResults() {\n        try {\n          const response = await axios.post(\n            \"/register\",\n            {\n              username: state.username.value,\n              email: state.email.value,\n              password: state.password.value,\n            },\n            { cancelToken: ourRequest.token }\n          );\n          appDispatch({ type: \"login\", data: response.data });\n          appDispatch({\n            type: \"flashMessage\",\n            value: \"Congrats! Welcome to your new account.\",\n          });\n        } catch (e) {\n          console.log(\"There was a problem or the request was cancelled.\");\n        }\n      }\n      fetchResults();\n      return () => ourRequest.cancel();\n    }\n  }, [state.submitCount]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatch({ type: \"usernameImmediately\", value: state.username.value });\n    dispatch({\n      type: \"usernameAfterDelay\",\n      value: state.username.value,\n      noRequest: true,\n    });\n    dispatch({ type: \"emailImmediately\", value: state.email.value });\n    dispatch({\n      type: \"emailAfterDelay\",\n      value: state.email.value,\n      noRequest: true,\n    });\n    dispatch({ type: \"passwordImmediately\", value: state.password.value });\n    dispatch({ type: \"passwordAfterDelay\", value: state.password.value });\n    dispatch({ type: \"submitForm\" });\n  }\n\n  return (\n    <Page title=\"Welcome!\" wide={true}>\n      <div className=\"container py-md-5\">\n        <div className=\"row align-items-center\">\n          <div className=\"col-lg-7 py-3 py-md-5\">\n            <h1 className=\"display-3\">Remember Writing?</h1>\n            <p className=\"lead text-muted\">\n              Are you sick of short tweets and impersonal &ldquo;shared&rdquo;\n              posts that are reminiscent of the late 90&rsquo;s email forwards?\n              We believe getting back to actually writing is the key to enjoying\n              the internet again.\n            </p>\n          </div>\n          <div className=\"col-lg-5 ps-lg-5 pb-3 py-lg-5\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"form-group\">\n                <label htmlFor=\"username-register\" className=\"text-muted mb-1\">\n                  <small>Username</small>\n                </label>\n                <input\n                  id=\"username-register\"\n                  name=\"username\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  placeholder=\"Pick a username\"\n                  autoComplete=\"off\"\n                  onChange={(e) =>\n                    dispatch({\n                      type: \"usernameImmediately\",\n                      value: e.target.value,\n                    })\n                  }\n                />\n                <CSSTransition\n                  in={state.username.hasErrors}\n                  timeout={330}\n                  classNames=\"liveValidateMessage\"\n                  unmountOnExit\n                >\n                  <div className=\"alert alert-danger small liveValidateMessage\">\n                    {state.username.message}\n                  </div>\n                </CSSTransition>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"email-register\" className=\"text-muted mb-1\">\n                  <small>Email</small>\n                </label>\n                <input\n                  onChange={(e) =>\n                    dispatch({\n                      type: \"emailImmediately\",\n                      value: e.target.value,\n                    })\n                  }\n                  id=\"email-register\"\n                  name=\"email\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  placeholder=\"you@example.com\"\n                  autoComplete=\"off\"\n                />\n                <CSSTransition\n                  in={state.email.hasErrors}\n                  timeout={330}\n                  classNames=\"liveValidateMessage\"\n                  unmountOnExit\n                >\n                  <div className=\"alert alert-danger small liveValidateMessage\">\n                    {state.email.message}\n                  </div>\n                </CSSTransition>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password-register\" className=\"text-muted mb-1\">\n                  <small>Password</small>\n                </label>\n                <input\n                  onChange={(e) =>\n                    dispatch({\n                      type: \"passwordImmediately\",\n                      value: e.target.value,\n                    })\n                  }\n                  id=\"password-register\"\n                  name=\"password\"\n                  className=\"form-control\"\n                  type=\"password\"\n                  placeholder=\"Create a password\"\n                />\n                <CSSTransition\n                  in={state.password.hasErrors}\n                  timeout={330}\n                  classNames=\"liveValidateMessage\"\n                  unmountOnExit\n                >\n                  <div className=\"alert alert-danger small liveValidateMessage\">\n                    {state.password.message}\n                  </div>\n                </CSSTransition>\n              </div>\n              <button\n                type=\"submit\"\n                className=\"py-3 mt-4 btn btn-lg btn-success btn-block\"\n              >\n                Sign up for SocialApp\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </Page>\n  );\n};\n\nexport default HomeGuest;\n","import { useContext, useEffect } from \"react\";\nimport StateContext from \"../StateContext\";\nimport Page from \"./ui/container/Page\";\nimport { useImmer } from \"use-immer\";\nimport axios from \"axios\";\nimport LoadingDotsIcon from \"./ui/LoadingDotsIcon\";\nimport Post from \"./Post\";\n\nconst Home = () => {\n  const appState = useContext(StateContext);\n  const [state, setState] = useImmer({\n    isLoading: true,\n    feed: [],\n  });\n\n  useEffect(() => {\n    const ourRequest = axios.CancelToken.source();\n\n    async function fetchData() {\n      try {\n        const response = await axios.post(\n          \"/getHomeFeed\",\n          { token: appState.user.token },\n          { cancelToken: ourRequest.token }\n        );\n        setState((draft) => {\n          draft.isLoading = false;\n          draft.feed = response.data;\n        });\n      } catch (e) {\n        console.log(\"There was a problem.\");\n      }\n    }\n    fetchData();\n    return () => {\n      ourRequest.cancel();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (state.isLoading) {\n    return <LoadingDotsIcon />;\n  }\n  return (\n    <>\n      <Page title=\"Your Feed\">\n        {state.feed.length > 0 && (\n          <>\n            <h2 className=\"text-center mb-4\">\n              The Latest From Those You Follow\n            </h2>\n            <div className=\"list-group\">\n              {state.feed.map((post) => {\n                return <Post post={post} key={post._id} />;\n              })}\n            </div>\n          </>\n        )}\n        {state.feed.length === 0 && (\n          <>\n            <h2 className=\"text-center\">\n              Hello <strong>{appState.user.username}</strong>, your feed is\n              empty.\n            </h2>\n            <p className=\"lead text-muted text-center\">\n              Your feed displays the latest posts from the people you follow. If\n              you don&rsquo;t have any friends to follow that&rsquo;s okay; you\n              can use the &ldquo;Search&rdquo; feature in the top menu bar to\n              find content written by people with similar interests and then\n              follow them.\n            </p>\n          </>\n        )}\n      </Page>\n    </>\n  );\n};\n\nexport default Home;\n","const FlashMessages = ({ messages }) => {\n  return (\n    <div className=\"floating-alerts\">\n      {messages.map((msg, index) => {\n        return (\n          <div\n            key={index}\n            className=\"alert alert-success text-center floating-alert shadow-sm\"\n            role=\"alert\"\n          >\n            {msg}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default FlashMessages;\n","import axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport StateContext from \"../StateContext\";\nimport Post from \"./Post\";\nimport LoadingDotsIcon from \"./ui/LoadingDotsIcon\";\n\nconst ProfilePosts = () => {\n  const { username } = useParams();\n  const [isLoading, setIsLoading] = useState(true);\n  const [posts, setPosts] = useState([]);\n  const appState = useContext(StateContext);\n\n  useEffect(() => {\n    const ourRequest = axios.CancelToken.source();\n\n    async function fetchPosts() {\n      try {\n        const response = await axios.get(`/profile/${username}/posts`, {\n          cancelToken: ourRequest.token,\n        });\n        setPosts(response.data);\n        setIsLoading(false);\n      } catch (e) {\n        console.log(\"There was a problem.\");\n      }\n    }\n    fetchPosts();\n    return () => {\n      ourRequest.cancel();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (isLoading) return <LoadingDotsIcon />;\n\n  return (\n    <div className=\"list-group\">\n      {posts.length > 0 &&\n        posts.map((post) => {\n          return <Post noAuthor={true} post={post} key={post._id} />;\n        })}\n      {posts.length === 0 && appState.user.username === username && (\n        <p className=\"lead text-muted text-center\">\n          You haven&rsquo;t created any posts yet;{\" \"}\n          <Link to=\"/create-post\">create one now!</Link>\n        </p>\n      )}\n      {posts.length === 0 && appState.user.username !== username && (\n        <p className=\"lead text-muted text-center\">\n          {username} hasn&rsquo;t created any posts yet.\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default ProfilePosts;\n","import axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport StateContext from \"../StateContext\";\nimport LoadingDotsIcon from \"./ui/LoadingDotsIcon\";\n\nconst ProfileFollowers = () => {\n  const appState = useContext(StateContext);\n  const { username } = useParams();\n  const [isLoading, setIsLoading] = useState(true);\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    const ourRequest = axios.CancelToken.source();\n\n    async function fetchPosts() {\n      try {\n        const response = await axios.get(`/profile/${username}/followers`, {\n          cancelToken: ourRequest.token,\n        });\n        setPosts(response.data);\n        setIsLoading(false);\n      } catch (e) {\n        console.log(\"There was a problem.\");\n      }\n    }\n    fetchPosts();\n    return () => {\n      ourRequest.cancel();\n    };\n  }, [username]);\n\n  if (isLoading) return <LoadingDotsIcon />;\n\n  return (\n    <div className=\"list-group\">\n      {posts.length > 0 &&\n        posts.map((follower, index) => {\n          return (\n            <Link\n              key={index}\n              to={`/profile/${follower.username}`}\n              className=\"list-group-item list-group-item-action\"\n            >\n              <img alt=\"avatar\" className=\"avatar-tiny\" src={follower.avatar} />{\" \"}\n              {follower.username}\n            </Link>\n          );\n        })}\n      {posts.length === 0 && appState.user.username === username && (\n        <p className=\"lead text-muted text-center\">\n          You don&rsquo;t have any followers yet.\n        </p>\n      )}\n      {posts.length === 0 && appState.user.username !== username && (\n        <p className=\"lead text-muted text-center\">\n          {username} doesn&rsquo;t have any followers yet.\n          {appState.loggedIn && \" Be the first to follow them!\"}\n          {!appState.loggedIn && (\n            <>\n              {\" \"}\n              If you want to follow them you need to <Link to=\"/\">\n                sign up\n              </Link>{\" \"}\n              for an account first.{\" \"}\n            </>\n          )}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileFollowers;\n","import axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport StateContext from \"../StateContext\";\nimport LoadingDotsIcon from \"./ui/LoadingDotsIcon\";\n\nconst ProfileFollowing = () => {\n  const appState = useContext(StateContext);\n  const { username } = useParams();\n  const [isLoading, setIsLoading] = useState(true);\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    const ourRequest = axios.CancelToken.source();\n\n    async function fetchPosts() {\n      try {\n        const response = await axios.get(`/profile/${username}/following`, {\n          cancelToken: ourRequest.token,\n        });\n        setPosts(response.data);\n        setIsLoading(false);\n      } catch (e) {\n        console.log(\"There was a problem.\");\n      }\n    }\n    fetchPosts();\n    return () => {\n      ourRequest.cancel();\n    };\n  }, [username]);\n\n  if (isLoading) return <LoadingDotsIcon />;\n\n  return (\n    <div className=\"list-group\">\n      {posts.length > 0 &&\n        posts.map((follower, index) => {\n          return (\n            <Link\n              key={index}\n              to={`/profile/${follower.username}`}\n              className=\"list-group-item list-group-item-action\"\n            >\n              <img alt=\"avatar\" className=\"avatar-tiny\" src={follower.avatar} />{\" \"}\n              {follower.username}\n            </Link>\n          );\n        })}\n      {posts.length === 0 && appState.user.username === username && (\n        <p className=\"lead text-muted text-center\">\n          You aren&rsquo;t following anyone yet.\n        </p>\n      )}\n      {posts.length === 0 && appState.user.username !== username && (\n        <p className=\"lead text-muted text-center\">\n          {username} isn&rsquo;t following anyone yet.\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileFollowing;\n","import axios from \"axios\";\nimport { useContext, useEffect } from \"react\";\nimport { NavLink, useParams, Routes, Route } from \"react-router-dom\";\nimport StateContext from \"../StateContext\";\nimport ProfilePosts from \"./ProfilePosts\";\nimport Page from \"./ui/container/Page\";\nimport { useImmer } from \"use-immer\";\nimport { AddIcon, RemoveIcon } from \"./ui/AllSvg\";\nimport ProfileFollowers from \"./ProfileFollowers\";\nimport ProfileFollowing from \"./ProfileFollowing\";\n\nconst Profile = () => {\n  const { username } = useParams();\n  const appState = useContext(StateContext);\n  const [state, setState] = useImmer({\n    followActionLoading: false,\n    startFollowingRequestCount: 0,\n    stopFollowingRequestCount: 0,\n    profileData: {\n      profileUsername: \"...\",\n      profileAvatar: \"https://gravatar.com/avatar/placeholder?s=128\",\n      isFollowing: false,\n      counts: { postCount: \"\", followerCount: \"\", followingCount: \"\" },\n    },\n  });\n\n  useEffect(() => {\n    const ourRequest = axios.CancelToken.source();\n\n    async function fetchData() {\n      try {\n        const response = await axios.post(\n          `/profile/${username}`,\n          { token: appState.user.token },\n          { cancelToken: ourRequest.token }\n        );\n        setState((draft) => {\n          draft.profileData = response.data;\n        });\n      } catch (e) {\n        console.log(\"There was a problem.\");\n      }\n    }\n    fetchData();\n    return () => {\n      ourRequest.cancel();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [username]);\n\n  useEffect(() => {\n    if (state.startFollowingRequestCount) {\n      setState((draft) => {\n        draft.followActionLoading = true;\n      });\n\n      const ourRequest = axios.CancelToken.source();\n\n      async function fetchData() {\n        try {\n          await axios.post(\n            `/addFollow/${state.profileData.profileUsername}`,\n            { token: appState.user.token },\n            { cancelToken: ourRequest.token }\n          );\n          setState((draft) => {\n            draft.profileData.isFollowing = true;\n            draft.profileData.counts.followerCount++;\n            draft.followActionLoading = false;\n          });\n        } catch (e) {\n          console.log(\"There was a problem.\");\n        }\n      }\n      fetchData();\n      return () => {\n        ourRequest.cancel();\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.startFollowingRequestCount]);\n\n  useEffect(() => {\n    if (state.stopFollowingRequestCount) {\n      setState((draft) => {\n        draft.followActionLoading = true;\n      });\n\n      const ourRequest = axios.CancelToken.source();\n\n      async function fetchData() {\n        try {\n          await axios.post(\n            `/removeFollow/${state.profileData.profileUsername}`,\n            { token: appState.user.token },\n            { cancelToken: ourRequest.token }\n          );\n          setState((draft) => {\n            draft.profileData.isFollowing = false;\n            draft.profileData.counts.followerCount--;\n            draft.followActionLoading = false;\n          });\n        } catch (e) {\n          console.log(\"There was a problem.\");\n        }\n      }\n      fetchData();\n      return () => {\n        ourRequest.cancel();\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.stopFollowingRequestCount]);\n\n  function startFollowing() {\n    setState((draft) => {\n      draft.startFollowingRequestCount++;\n    });\n  }\n\n  function stopFollowing() {\n    setState((draft) => {\n      draft.stopFollowingRequestCount++;\n    });\n  }\n\n  return (\n    <Page title=\"Profile Screen\">\n      <h2>\n        <img\n          alt=\"avatar\"\n          className=\"avatar-small\"\n          src={state.profileData.profileAvatar}\n        />{\" \"}\n        {state.profileData.profileUsername}\n        {appState.loggedIn &&\n          !state.profileData.isFollowing &&\n          appState.user.username !== state.profileData.profileUsername &&\n          state.profileData.profileUsername !== \"...\" && (\n            <button\n              onClick={startFollowing}\n              disabled={state.followActionLoading}\n              className=\"btn btn-primary btn-sm ml-2\"\n            >\n              Follow <AddIcon width={24} height={24} fill=\"currentColor\" />\n            </button>\n          )}\n        {appState.loggedIn &&\n          state.profileData.isFollowing &&\n          appState.user.username !== state.profileData.profileUsername &&\n          state.profileData.profileUsername !== \"...\" && (\n            <button\n              onClick={stopFollowing}\n              disabled={state.followActionLoading}\n              className=\"btn btn-danger btn-sm ml-2\"\n            >\n              Stop Following{\" \"}\n              <RemoveIcon width={24} height={24} fill=\"currentColor\" />\n            </button>\n          )}\n      </h2>\n\n      <div className=\"profile-nav nav nav-tabs pt-2 mb-4\">\n        <NavLink\n          to={`/profile/${state.profileData.profileUsername}`}\n          className=\"active nav-item nav-link\"\n        >\n          Posts:{\" \"}\n          {state.profileData.counts !== undefined &&\n            state.profileData.counts.postCount}\n        </NavLink>\n        <NavLink\n          to={`/profile/${state.profileData.profileUsername}/followers`}\n          className=\"nav-item nav-link\"\n        >\n          Followers:{\" \"}\n          {state.profileData.counts !== undefined &&\n            state.profileData.counts.followerCount}\n        </NavLink>\n        <NavLink\n          to={`/profile/${state.profileData.profileUsername}/following`}\n          className=\"nav-item nav-link\"\n        >\n          Following:{\" \"}\n          {state.profileData.counts !== undefined &&\n            state.profileData.counts.followingCount}\n        </NavLink>\n      </div>\n\n      <Routes>\n        <Route path=\"\" element={<ProfilePosts />} />\n        <Route path=\"/followers\" element={<ProfileFollowers />} />\n        <Route path=\"/following\" element={<ProfileFollowing />} />\n      </Routes>\n    </Page>\n  );\n};\n\nexport default Profile;\n","import axios from \"axios\";\nimport { useContext, useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport DispatchContext from \"../DispatchContext\";\nimport StateContext from \"../StateContext\";\nimport NotFound from \"./NotFound\";\nimport Page from \"./ui/container/Page\";\nimport LoadingDotsIcon from \"./ui/LoadingDotsIcon\";\nimport { useImmerReducer } from \"use-immer\";\n\nconst EditPost = () => {\n  const appState = useContext(StateContext);\n  const appDispatch = useContext(DispatchContext);\n  const navigate = new useNavigate();\n\n  const originalState = {\n    title: {\n      value: \"\",\n      hasErrors: false,\n      message: \"\",\n    },\n    body: {\n      value: \"\",\n      hasErrors: false,\n      message: \"\",\n    },\n    isFetching: true,\n    isSaving: false,\n    id: useParams().id,\n    sendCount: 0,\n    notFound: false,\n  };\n\n  function ourReducer(draft, action) {\n    switch (action.type) {\n      case \"fetchComplete\":\n        draft.title.value = action.value.title;\n        draft.body.value = action.value.body;\n        draft.isFetching = false;\n        return;\n      case \"titleChange\":\n        draft.title.hasErrors = false;\n        draft.title.value = action.value;\n        return;\n      case \"bodyChange\":\n        draft.body.hasErrors = false;\n        draft.body.value = action.value;\n        return;\n      case \"submitRequest\":\n        if (!draft.title.hasErrors && !draft.body.hasErrors) {\n          draft.sendCount++;\n        }\n        return;\n      case \"saveRequestStarted\":\n        draft.isSaving = true;\n        return;\n      case \"saveRequestFinished\":\n        draft.isSaving = false;\n        return;\n      case \"titleRules\":\n        if (!action.value.trim()) {\n          draft.title.hasErrors = true;\n          draft.title.message = \"You must provide a title.\";\n        }\n        return;\n      case \"bodyRules\":\n        if (!action.value.trim()) {\n          draft.body.hasErrors = true;\n          draft.body.message = \"You must provide body content.\";\n        }\n        return;\n      case \"notFound\":\n        draft.notFound = true;\n        return;\n\n      default:\n        return;\n    }\n  }\n\n  const [state, dispatch] = useImmerReducer(ourReducer, originalState);\n\n  function submitHandler(e) {\n    e.preventDefault();\n    dispatch({ type: \"titleRules\", value: state.title.value });\n    dispatch({ type: \"bodyRules\", value: state.body.value });\n    dispatch({ type: \"submitRequest\" });\n  }\n\n  useEffect(() => {\n    const ourRequest = axios.CancelToken.source();\n    async function fetchPost() {\n      try {\n        const response = await axios.get(`/post/${state.id}`, {\n          cancelToken: ourRequest.token,\n        });\n        if (response.data) {\n          dispatch({ type: \"fetchComplete\", value: response.data });\n          if (appState.user.username !== response.data.author.username) {\n            appDispatch({\n              type: \"flashMessage\",\n              value: \"You do not have permission to edit that post.\",\n            });\n            // redirect to homepage\n            navigate(\"/\");\n          }\n        } else {\n          dispatch({ type: \"notFound\" });\n        }\n      } catch (e) {\n        console.log(\"There was a problem or the request was cancelled.\");\n      }\n    }\n    fetchPost();\n    return () => {\n      ourRequest.cancel();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (state.sendCount) {\n      dispatch({ type: \"saveRequestStarted\" });\n      const ourRequest = axios.CancelToken.source();\n      async function fetchPost() {\n        try {\n          await axios.post(\n            `/post/${state.id}/edit`,\n            {\n              title: state.title.value,\n              body: state.body.value,\n              token: appState.user.token,\n            },\n            { cancelToken: ourRequest.token }\n          );\n          dispatch({ type: \"saveRequestFinished\" });\n          appDispatch({ type: \"flashMessage\", value: \"Post was updated.\" });\n        } catch (e) {\n          console.log(\"There was a problem or the request was cancelled.\");\n        }\n      }\n      fetchPost();\n      return () => {\n        ourRequest.cancel();\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.sendCount]);\n\n  if (state.notFound) {\n    return <NotFound />;\n  }\n\n  if (state.isFetching)\n    return (\n      <Page title=\"...\">\n        <LoadingDotsIcon />\n      </Page>\n    );\n\n  return (\n    <Page title=\"Edit Post\">\n      <Link className=\"small font-weight-bold\" to={`/post/${state.id}`}>\n        &laquo; Back to post permalink\n      </Link>\n\n      <form className=\"mt-3\" onSubmit={submitHandler}>\n        <div className=\"form-group\">\n          <label htmlFor=\"post-title\" className=\"text-muted mb-1\">\n            <small>Title</small>\n          </label>\n          <input\n            onBlur={(e) =>\n              dispatch({ type: \"titleRules\", value: e.target.value })\n            }\n            onChange={(e) =>\n              dispatch({ type: \"titleChange\", value: e.target.value })\n            }\n            value={state.title.value}\n            autoFocus\n            name=\"title\"\n            id=\"post-title\"\n            className=\"form-control form-control-lg form-control-title\"\n            type=\"text\"\n            placeholder=\"\"\n            autoComplete=\"off\"\n          />\n          {state.title.hasErrors && (\n            <div className=\"alert alert-danger small liveValidateMessage\">\n              {state.title.message}\n            </div>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"post-body\" className=\"text-muted mb-1 d-block\">\n            <small>Body Content</small>\n          </label>\n          <textarea\n            onBlur={(e) =>\n              dispatch({ type: \"bodyRules\", value: e.target.value })\n            }\n            onChange={(e) =>\n              dispatch({ type: \"bodyChange\", value: e.target.value })\n            }\n            name=\"body\"\n            id=\"post-body\"\n            className=\"body-content tall-textarea form-control\"\n            type=\"text\"\n            value={state.body.value}\n          />\n          {state.body.hasErrors && (\n            <div className=\"alert alert-danger small liveValidateMessage\">\n              {state.body.message}\n            </div>\n          )}\n        </div>\n\n        <button className=\"btn btn-primary\" disabled={state.isSaving}>\n          Save Updates\n        </button>\n      </form>\n    </Page>\n  );\n};\n\nexport default EditPost;\n","import Page from \"./ui/container/Page\";\n\nconst Terms = () => {\n  return (\n    <Page title=\"Terms and Conditions\">\n      <h2>Our Terms &amp; Conditions</h2>\n      <p className=\"lead text-muted\">\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Corporis\n        dolorum labore quisquam vel id dicta fuga! Ducimus, quo. Dolore commodi\n        aliquid error veritatis consequuntur, excepturi cumque fuga eum incidunt\n        doloremque?\n      </p>\n      <p>\n        Lorem ipsum, dolor sit amet consectetur adipisicing elit. At qui enim\n        rem totam voluptatum. Aut saepe temporibus, facilis ex a iste expedita\n        minima dolorum dicta doloribus libero aliquid, quae maxime? Lorem ipsum\n        dolor sit amet consectetur adipisicing elit. Fugiat suscipit beatae eum,\n        est soluta ducimus ratione et impedit sapiente, nihil, atque dignissimos\n        adipisci? Totam atque officia quis voluptates sed veniam?\n      </p>\n      <p>\n        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita\n        voluptates quisquam possimus tenetur, dicta enim rerum quis, quaerat id\n        nobis provident quo dolorum sapiente temporibus facere non repellendus\n        consequatur cupiditate!\n      </p>\n      <h3>Details</h3>\n      <p>\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae laboriosam\n        distinctio atque sint earum? Temporibus, voluptas aspernatur aliquam\n        nisi sed harum laborum, nemo odio animi officia quisquam. Veniam, natus\n        reprehenderit.\n      </p>\n    </Page>\n  );\n};\n\nexport default Terms;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Suspense } from \"react\";\nimport { useImmerReducer } from \"use-immer\";\nimport { Routes, Route, BrowserRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport \"./App.css\";\nimport About from \"./components/About\";\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport HomeGuest from \"./components/HomeGuest\";\nimport Home from \"./components/Home\";\nimport FlashMessages from \"./components/ui/FlashMessages\";\nimport DispatchContext from \"./DispatchContext\";\nimport StateContext from \"./StateContext\";\nimport React, { useEffect } from \"react\";\nimport Profile from \"./components/Profile\";\nimport EditPost from \"./components/EditPost\";\nimport Terms from \"./components/Terms\";\nimport NotFound from \"./components/NotFound\";\nimport LoadingDotsIcon from \"./components/ui/LoadingDotsIcon\";\nconst CreatePost = React.lazy(() => import(\"./components/CreatePost\"));\nconst ViewSinglePost = React.lazy(() => import(\"./components/ViewSinglePost\"));\nconst Search = React.lazy(() => import(\"./components/Search\"));\nconst Chat = React.lazy(() => import(\"./components/Chat\"));\n\naxios.defaults.baseURL = \"https://reactpracticebackend.herokuapp.com/\";\n\nconst App = () => {\n  const initialState = {\n    loggedIn: Boolean(localStorage.getItem(\"socialappToken\")),\n    flashMessages: [],\n    user: {\n      token: localStorage.getItem(\"socialappToken\"),\n      username: localStorage.getItem(\"socialappUsername\"),\n      avatar: localStorage.getItem(\"socialappAvatar\"),\n    },\n    isSearchOpen: false,\n    isChatOpen: false,\n    unreadChatCount: 0,\n  };\n\n  function ourReducer(draft, action) {\n    switch (action.type) {\n      case \"login\":\n        draft.loggedIn = true;\n        draft.user = action.data;\n        return;\n      case \"logout\":\n        draft.loggedIn = false;\n        return;\n      case \"flashMessage\":\n        draft.flashMessages.push(action.value);\n        return;\n      case \"openSearch\":\n        draft.isSearchOpen = true;\n        return;\n      case \"closeSearch\":\n        draft.isSearchOpen = false;\n        return;\n      case \"toggleChat\":\n        draft.isChatOpen = !draft.isChatOpen;\n        return;\n      case \"closeChat\":\n        draft.isChatOpen = false;\n        return;\n      case \"incrementUnreadChatCount\":\n        draft.unreadChatCount++;\n        return;\n      case \"clearUnreadChatCount\":\n        draft.unreadChatCount = 0;\n        return;\n\n      default:\n        return;\n    }\n  }\n\n  const [state, dispatch] = useImmerReducer(ourReducer, initialState);\n\n  useEffect(() => {\n    if (state.loggedIn) {\n      localStorage.setItem(\"socialappToken\", state.user.token);\n      localStorage.setItem(\"socialappUsername\", state.user.username);\n      localStorage.setItem(\"socialappAvatar\", state.user.avatar);\n    } else {\n      localStorage.removeItem(\"socialappToken\");\n      localStorage.removeItem(\"socialappUsername\");\n      localStorage.removeItem(\"socialappAvatar\");\n    }\n  }, [state.loggedIn]);\n\n  // Check if token has expired or not on first render\n  useEffect(() => {\n    if (state.loggedIn) {\n      const ourRequest = axios.CancelToken.source();\n      async function fetchResults() {\n        try {\n          const response = await axios.post(\n            \"/checkToken\",\n            { token: state.user.token },\n            { cancelToken: ourRequest.token }\n          );\n          if (!response.data) {\n            dispatch({ type: \"logout\" });\n            dispatch({\n              type: \"flashMessage\",\n              value: \"Your session has expired. Please log in again.\",\n            });\n          }\n        } catch (e) {\n          console.log(\"There was a problem or the request was cancelled.\");\n        }\n      }\n      fetchResults();\n      return () => ourRequest.cancel();\n    }\n  }, []);\n\n  const routeRefs = React.useRef(null);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        <BrowserRouter>\n          <Header />\n          <FlashMessages messages={state.flashMessages} />\n          <Suspense fallback={<LoadingDotsIcon />}>\n            <Routes>\n              <Route\n                path=\"/\"\n                element={state.loggedIn ? <Home /> : <HomeGuest />}\n              />\n              <Route path=\"/profile/:username/*\" element={<Profile />} />\n              <Route path=\"/about-us\" element={<About />} />\n              <Route path=\"/create-post\" element={<CreatePost />} />\n              <Route path=\"/post/:id\" element={<ViewSinglePost />} />\n              <Route path=\"/post/:id/edit\" element={<EditPost />} />\n              <Route path=\"/terms\" element={<Terms />} />\n              <Route element={<NotFound />} />\n              {/* <Route path=\"/profile/:username\" element={<ProfilePosts />} /> */}\n            </Routes>\n          </Suspense>\n          <CSSTransition\n            nodeRef={routeRefs}\n            timeout={330}\n            in={state.isSearchOpen}\n            classNames=\"search-overlay\"\n            unmountOnExit\n          >\n            <div ref={routeRefs} className=\"search-overlay\">\n              <Suspense fallback=\"\">\n                <Search />\n              </Suspense>\n            </div>\n          </CSSTransition>\n          <Suspense fallback=\"\">{state.loggedIn && <Chat />}</Suspense>\n          <Footer />\n        </BrowserRouter>\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { createContext } from \"react\";\n\nconst StateContext = createContext();\n\nexport default StateContext;\n"],"sourceRoot":""}